# Config to YAML Converter

Этот проект представляет собой утилиту, которая анализирует пользовательские конфигурационные файлы и преобразует их в формат YAML. Также предоставляются возможности работы с константами, вложенными структурами (словари и списки) и поддержка комментариев.

## Особенности

- Поддержка однострочных (`%`) и многострочных (`/* */`) комментариев в исходных файлах.
- Поддержка констант, которые можно использовать автоматически в структурах через символ `^`.
- Разбор вложенных структур: словари и списки.
- Конвертация результата в YAML файл.
- Простая реализация для расширения новых возможностей.

---

## Установка

1. Склонируйте репозиторий:
   ```bash
   git clone https://github.com/username/config_to_yaml.git
   ```
2. Перейдите в директорию проекта:
   ```bash
   cd config_to_yaml
   ```
3. Установите виртуальное окружение и зависимости Python:
   ```bash
   python -m venv .venv
   source .venv/bin/activate      # Для Linux/Mac
   .venv\Scripts\activate         # Для Windows
   pip install -r requirements.txt
   ```

---

## Использование

```bash
python config_to_yaml.py <input_file> <output_file>
```

Пример:
```bash
python config_to_yaml.py config.txt output.yaml
```

### Формат входного файла

Пример конфигурационного файла (`config.txt`):
```plaintext
% Это пример конфигурации
def MAX_COUNT = 100;
{
  name = "example",
  values = [
    1, 2, 3
  ],
  max = ^MAX_COUNT,
}
```

Ожидаемый результат (`output.yaml`):
```yaml
max: 100
name: example
values:
- 1
- 2
- 3
```

---

## Тестирование

### Запуск тестов

Для запуска тестов используйте команду:
```bash
python -m unittest test.py
```

### Результаты тестирования

Все тесты успешно прошли. Лог выполнения тестов:
```
После удаления комментариев: def MAX = 10; Определена константа: MAX = 10 Нет структуры для парсинга, только константы определены. .
После удаления комментариев: def MAX = 10; { name = "example", values = [1, 2, ^MAX] } Определена константа: MAX = 10 Структура для парсинга: { name = "example", values = [ 1, 2, ^MAX ] } Разбираем словарь из текста: name = "example", values = [ 1, 2, ^MAX ] ...

Ran 7 tests in 0.017s

OK
```

---

## Тесты

Тестируется точность обработки различных аспектов конфигурационных файлов:

1. **Удаление комментариев:** 
   Проверяется корректность удаления однострочных и многострочных комментариев.
2. **Определение констант:**
   Убедитесь, что константы правильно определяются и сохраняются.
3. **Разрешение констант:**
   Проверяется корректная подстановка значения константы.
4. **Парсинг словарей и списков:**
   Убедитесь, что вложенные словари и списки обрабатываются без ошибок.
5. **Интеграционные тесты:**
   Проверяется полный конвейер обработки – от чтения файла с константами, словарями и списками до преобразования в YAML.

---

## Будущие улучшения

1. Добавление поддержки более сложных выражений в константах.
2. Улучшение пользовательских сообщений об ошибках.
3. Добавление возможностей для обработки других форматов конфигурационных файлов.

---

## Лицензия

Данный проект опубликован под лицензией MIT. Ознакомьтесь с файлом `LICENSE` для получения подробной информации.